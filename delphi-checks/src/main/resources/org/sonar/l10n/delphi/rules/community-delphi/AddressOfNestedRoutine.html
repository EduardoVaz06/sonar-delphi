<h2>Why is this an issue?</h2>
<p>
  Nested routines cannot be used as procedural values.
</p>
<p>
  This will normally cause a compilation error, but such errors can be bypassed by using the address
  of the nested routine with <code>@</code>.
</p>
<p>
  In this scenario, the code generated by compiler will have undefined behavior.
</p>
<h2>How to fix it</h2>
Do not use <code>@</code> to get the address of a nested routine. If a method pointer is required,
convert the nested routine into a top-level routine.
<h2>Resources</h2>
<ul>
  <li>
    <a href="https://docwiki.embarcadero.com/RADStudio/en/Procedural_Types_(Delphi)#Method_Pointers">
      RAD Studio documentation: Method Pointers
    </a>
  </li>
  <li>
    <a href="https://quality.embarcadero.com/browse/RSP-23569">
      Embarcadero Quality Portal: Code generation for is wrong for calling nested routines supplied as parameters
    </a>
  </li>
  <li>
    <a href="https://quality.embarcadero.com/browse/RSP-28317">
      Embarcadero Quality Portal: Local values not properly compiled in Nested Function
    </a>
  </li>
  <li>
    <a href="https://stackoverflow.com/questions/10162749/why-cannot-take-address-to-a-nested-local-function-in-64-bit-delphi/10162859">
      Stack Overflow: Why cannot take address to a nested local function in 64 bit Delphi?
    </a>
  </li>
</ul>